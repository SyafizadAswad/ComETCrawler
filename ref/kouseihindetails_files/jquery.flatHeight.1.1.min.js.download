(function(a){a.fn.flatHeight=function(b){var c=a.extend({verticalAlign:false,column:"all"},b);return this.each(function(){a(this).addClass("flatHeight").children().addClass("flatHeightItem");var h=a(this).find(".flatHeightItem");if(c.column=="all"){var d=0;for(var f=0,e=h.length;f<e;f++){if(h.eq(f).height()>d){d=h.eq(f).height()}}h.height(d)}else{var d=0,g=0;for(var f=0,e=h.length;f<e;f++){if(h.eq(f).height()>d){d=h.eq(f).height()}if(g==c.column-1||f==e-1){for(g;g>=0;g--){h.eq(f-g).height(d)}g=0;d=0}else{g++}}}if(c.verticalAlign){h.each(function(){a(this).children().wrapAll('<div class="flatHeightItemInner"></div>')});h.css({position:"relative"});a(".flatHeightItemInner").css({position:"relative"})}if(c.verticalAlign=="middle"){h.children(".flatHeightItemInner").each(function(){var i=a(this).innerHeight()*-0.5;a(this).css({top:"50%",marginTop:i})})}if(c.verticalAlign=="bottom"){h.children(".flatHeightItemInner").each(function(){var i=a(this).innerHeight()*-1;a(this).css({top:"100%",marginTop:i})})}})}})(jQuery);